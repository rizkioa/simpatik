{% load i18n admin_static staticfiles widgets access %}
<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style type="text/css">
    
	    hr.style14 { 
	        /*border: 0; 
	        height: 1px; 
	        background-image: -webkit-linear-gradient(left, #f0f0f0, #8c8b8b, #f0f0f0);
	        background-image: -moz-linear-gradient(left, #f0f0f0, #8c8b8b, #f0f0f0);
	        background-image: -ms-linear-gradient(left, #f0f0f0, #8c8b8b, #f0f0f0);
	        background-image: -o-linear-gradient(left, #f0f0f0, #8c8b8b, #f0f0f0); */
	        border-top: 3px double #8c8b8b;
	      }
	    * {
	      font-family: "Open Sans", Helvetica, Arial, sans-serif;
	    }
		body {
	        width: 100%;
	        height: 100%;
	        margin: 0;
	        padding: 0;
	        background-color: #FAFAFA;
	        font: 12pt "Open Sans";
	        font-family: "Open Sans", Helvetica, Arial, sans-serif;
	    }
	    * {
	        box-sizing: border-box;
	        -moz-box-sizing: border-box;
	    }
	    .page {
	        width: 21.5cm;
	        min-height: 33cm;
	        padding: 5mm;
	        margin: 5mm auto;
	        border: 1px #D3D3D3 solid;
	        border-radius: 5px;
	        background: white;
	        box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
	    }
	    .subpage {
	        padding: 0.5cm;
	        padding-right: 60px;
	        /*border: 5px red solid;*/
	        /*height: 257mm;*/
	        height: 330mm;
	        width: 216mm;
	        /*outline: 2cm #FFEAEA solid;*/
	    }
	    
	    @page {
	        size: F4;
	        margin: 0;
	    }
	    @media print {
	        html, body {
	            width: 210mm;
	            height: 330mm;        
	        }
	        .page {
	            margin: 0;
	            border: initial;
	            border-radius: initial;
	            width: initial;
	            min-height: initial;
	            box-shadow: initial;
	            background: initial;
	            page-break-after: always;
	        }
	    }

	    /*.title, .tabel{
			border-bottom: 1px solid #7d7d7d;
	    }
	    .title h3{
	    	margin-top: 0px;
	    }
	    .tabel{
	    	padding-top: 0px;
	    	padding-bottom: 10px;
	    }

	    table {
	        border-collapse: collapse;
		}*/

		.ceklist {
		    border: 1px solid black;
		}
	    .font {
	        font-size: 12px;
	        font-family: "Open Sans", Helvetica, Arial, sans-serif;
	    }
	    #print-modal {
	        margin: 0 0 0 -393px;
	    }
	    .style2 {
			border-top: 3px double #8c8b8b;
		}
		.button {
		    background-color: #4CAF50; /* Green */
		    border: none;
		    color: white;
		    padding: 15px 32px;
		    text-align: center;
		    text-decoration: none;
		    display: inline-block;
		    font-size: 16px;
		    border-radius: 8px;
		    box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);
		}
		.button-close {
		    background-color: #f32818; /* Green */
		    border: none;
		    color: white;
		    padding: 15px 32px;
		    text-align: center;
		    text-decoration: none;
		    display: inline-block;
		    font-size: 16px;
		    border-radius: 8px;
		    box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);
		}
		@media print {
		  .hidden-print {
		    display: none !important;
		  }
		}
		/*table, td, th {    
		    border: 1px solid #ddd;
		    text-align: left;
		}*/

		table {
		    border-collapse: collapse;
		    width: 100%;
		}
		th, td {
		    padding: 7px;
		}

		table.tabel td{
			width: 40%;
		}

		table.tabel-spasi-1 td, th{
			padding: 1px;
		}

		table.tabel-spasi-2 td, th{
			padding: 2px;
		}


		.row::after {
		    content: "";
		    clear: both;
		    display: block;
		    padding-block-start: 20px;
		}
		[class*="col-"] {
		    float: left;
		    padding: 15px;
		    /*border: 1px solid red;*/
		}
		.col-1 {width: 8.33%;}
		.col-2 {width: 16.66%;}
		.col-3 {width: 25%;}
		.col-4 {width: 33.33%;}
		.col-5 {width: 41.66%;}
		.col-6 {width: 50%;}
		.col-7 {width: 58.33%;}
		.col-8 {width: 66.66%;}
		.col-9 {width: 75%;}
		.col-10 {width: 83.33%;}
		.col-11 {width: 91.66%;}
		.col-12 {width: 100%;}

		@media print {
	 		.printhide { 
	 			display: none !important; 
	 			/*color: white;
	 			background-color: white;*/
			}
			.logokabhide{
				display: none !important; 
			}
			.subpage{
				padding-top: 200px;
			}
		}

		.isi{
			font-size: 14px;
		}

		.images{
			width: 3cm;
    		height: 4cm;
		}
		#qrcodeTable canvas{
			padding: 2px;
			border-radius: 3px;
		    border: 3px solid #000;
		    /*box-shadow: 0 4px 6px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);*/
		    width: 110px;
			height: 110px;
		}

		/*table tr:last-child td:first-child {
		    border-bottom-left-radius: 10px;
		}

		table tr:last-child td:last-child {
		    border-bottom-right-radius: 10px;
		}*/
	</style>
	{% if pengajuan.status == 1 or skizin_status == 2 or skizin_status == 1%}
		{% if request.user|has_group:'Cetak' %} 
			<script>
				document.querySelector('style').textContent += "@media print { body { display: block !important; } }"
			</script>
		{% endif %}
	{% endif %}
</head>
<!-- AGAR TIDAK KLIK KIRI -->
<!-- <body id="body" oncontextmenu="return false">  -->
<body id="body" oncontextmenu="return true"> 
{% if pengajuan.status == 1 or skizin_status == 2 or skizin_status == 1 %}
	<div style="padding: 240px 0 0 30px; height: 140px; width: 150px;position:fixed;left:0;top:0">
		<a class="button hidden-print" onclick="window.print()" href="#" style="margin-bottom: 10px;">
			<img src="{% static 'images/icon-print.png' %}">
		</a>
		<br>
		<a class="button-close hidden-print" href="javascript:if(confirm('Close window?'))window.close()" onclick="setTimeout(function(){var ww = window.open(window.location, '_self'); ww.close(); }, 1000);">
			<img src="{% static 'images/icon-close.png' %}">
		</a>
	</div>
{% endif %}
	<div class="book">
	    <div class="page">
	        <div class="subpage">
	        	<div class="printhide">
	        		<table width="100%" style="margin-top: -16px; margin-bottom: -18px;" border="0">
		        		<tr>
		        			<td>
		        				<img class="logokabhide" src="{% static 'images/kabkediri.png' %}" width="100px">
		        			</td>
		        			<td>
		        				<center>
		        					<p class="printhide">
		        						<font class="printhide" style="font-size: 23px;"><b>PEMERINTAHAN KABUPATEN KEDIRI<br>BADAN PENANAMAN MODAL DAN PELAYANAN PERIZINAN TERPADU SATU PINTU</b></font><br>
		        						<font class="printhide">Jl. Soekarno - Hatta Nomor 14 Telp. 681227 & 681741 Fax. 0354 - 681227<br>
		        						Website : <u>www.kedirikab.go.id</u> Email : <u>bpmp2tsp@kedirikab.go.id</u></font><br>
		        						<font class="printhide" style="font-size: 25px;">KEDIRI</font>
		        					</p>
		        				</center>
		        			</td>
		        		</tr>
		        	</table>
	        	</div>
	        	<hr class="style14 printhide">
	        	{{html|safe}}
	        	<div class="col-2 qrcode" style="padding-left: 0px;">

			        	<div id="qrcodeTable" >
			        	</div>
			        </div>
	        </div>    
	    </div>
	</div>
	<script src="{% static 'scripts/js/vendor/jquery/jquery-1.11.2.min.js' %}"></script>
	<script src="{% static 'scripts/js/QRCode/jquery-qrcode-0.14.0.js' %}"></script>
	<script type="text/javascript">
        lokasi = document.createElement("a");
        lokasi.href = location.href;
        window.__base_url__ = lokasi.protocol+"//"+lokasi.host;
        // alert(__base_url__)
    </script>

	<script type="text/javascript">
		function Exit() {
		    var x=confirm('Are You sure want to exit:');
		    if(x) window.close();
	    }
	    {% if pengajuan.no_izin %}
	    	var logo = $(new Image()).attr('src', '{% static 'images/SIMPATIK.png' %}').get(0);
		    $('#qrcodeTable').qrcode({
		    	// render method: 'canvas', 'image' or 'div'
		    	render: 'canvas',
				
				// qrsize: 1,
				// version range somewhere in 1 .. 40

				// width 	: 110,
				// height 	: 110,

			    minVersion: 1,
			    maxVersion: 40,

			    // error correction level: 'L', 'M', 'Q' or 'H'
			    ecLevel: 'Q',
			    // offset in pixel if drawn onto existing canvas
			    left: 0,
			    top: 0,
			    // size in pixel
			    size: 500,

			    // code color or image element
			    fill: '#000',

			    // background color or image element, null for transparent background
    			// background: '#707aec',
    			// background : logo,
    			// mSize: 0.4,

    			text	: "http://simpatik.kedirikab.go.id/cek-izin-terdaftar/{{ pengajuan.no_izin }}",

    			radius: 0.5,

    			// quiet zone in modules
    			quiet: 0,

    			// modes
			    // 0: normal
			    // 1: label strip
			    // 2: label box
			    // 3: image strip
			    // 4: image box
			    mode: 4,

			    mSize: 0.2,
			    mPosX: 0.5,
			    mPosY: 0.5,

				label: 'no label',
				fontname: 'sans',
    			fontcolor: '#000',

    			image: logo,
			});
			
		{% endif %}

		$(window).load(function(){
			// angka = parseInt("{{pengajuan.kekayaan_bersih}}")

			// if (typeof(angka) != 'string') angka = angka.toString();
			// var reg = new RegExp('([0-9]+)([0-9]{3})');
			// while(reg.test(angka)) angka = angka.replace(reg, '$1.$2');
			// // alert(angka)
			// $('#id_kekayaan').replaceWith('Rp. '+angka+',-')
			// return angka;

		})
	</script>
</body>
</html>